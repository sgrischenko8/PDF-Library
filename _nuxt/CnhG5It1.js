import{V as y,f as C,_ as F}from"./C-sKlSw7.js";import{_ as I,r,n as w,q as _,c as h,u as a,s as v,v as u,b as i,x as D,w as d,o as n,a as b,t as x,p as P,e as S}from"./z_9WcUHJ.js";import{u as B,V as T,a as U}from"./CxJnXZT_.js";import{V as A,a as N}from"./BZs8Hu5N.js";import"./DdZKEMz5.js";var R={};const $=t=>(P("data-v-c8d19774"),t=t(),S(),t),z={key:1},E=$(()=>b("h1",{class:"mb-4"},"Files library",-1)),j=["onClick"],q={__name:"AllFiles",setup(t){const s=r(null),c=r(!1),p=r(""),o=r(""),k=[{title:"Name",value:"originalname",sortable:!0},{title:"Page count",value:"numberOfPages",sortable:!0},{title:"Size (kb)",value:"size",sortable:!0},{title:"Format",value:"format"},{title:"Upload Date",value:"uploadDate",sortable:!0},{title:"Uploaded by",value:"uploadedByUser",sortable:!0}];async function V(){try{const e=await $fetch(`${R.API_URL}/api/files`,{method:"GET",credentials:"include"});s.value=C(e)}catch(e){_("/"),console.error("Error fetching user data:",e)}}function m(e){e&&(p.value=e),c.value=!c.value}return w(()=>{if(!B("userId").value){_("/");return}V()}),(e,f)=>{const g=F;return n(),h("div",null,[a(s)?u("",!0):(n(),v(N,{key:0,fluid:""},{default:d(()=>[i(U,{class:"h-screen align-center justify-center"},{default:d(()=>[i(A,{size:70,width:7,color:"primary",indeterminate:""})]),_:1})]),_:1})),a(s)?(n(),h("div",z,[E,i(T,{modelValue:a(o),"onUpdate:modelValue":f[0]||(f[0]=l=>D(o)?o.value=l:null),label:"Search","solo-inverted":"","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"]),i(y,{headers:k,items:a(s),"item-key":"_id",class:"elevation-1",search:a(o)},{"item.originalname":d(({item:l})=>[b("span",{class:"clickable",onClick:G=>m(l.path)},x(l.originalname),9,j)]),_:1},8,["items","search"]),a(c)?(n(),v(g,{key:0,onClose:m,path:a(p)},null,8,["path"])):u("",!0)])):u("",!0)])}}},K=I(q,[["__scopeId","data-v-c8d19774"]]);export{K as default};
